Version 4
SHEET 1 880 1696
WIRE -3792 496 -3888 496
WIRE -3712 496 -3792 496
WIRE -3632 496 -3712 496
WIRE -3552 496 -3632 496
WIRE -2560 544 -2608 544
WIRE -2400 544 -2560 544
WIRE -2400 560 -2400 544
WIRE -3552 576 -3552 496
WIRE -2560 576 -2560 544
WIRE -2608 592 -2608 544
WIRE -3632 608 -3632 496
WIRE -3712 640 -3712 496
WIRE -3792 672 -3792 496
WIRE -2608 688 -2608 656
WIRE -2560 688 -2560 656
WIRE -2560 688 -2608 688
WIRE -2480 688 -2560 688
WIRE -3552 704 -3552 656
WIRE -3520 704 -3552 704
WIRE -2560 704 -2560 688
WIRE -3296 736 -3328 736
WIRE -3632 752 -3632 688
WIRE -3520 752 -3632 752
WIRE -3296 752 -3296 736
WIRE -3216 752 -3296 752
WIRE -3136 752 -3216 752
WIRE -2960 752 -3056 752
WIRE -2864 752 -2960 752
WIRE -2672 752 -2784 752
WIRE -2576 752 -2672 752
WIRE -2352 752 -2480 752
WIRE -2192 752 -2352 752
WIRE -3712 800 -3712 720
WIRE -3520 800 -3712 800
WIRE -2960 832 -2960 752
WIRE -2352 832 -2352 752
WIRE -2192 832 -2192 752
WIRE -3792 848 -3792 752
WIRE -3520 848 -3792 848
WIRE -2672 848 -2672 752
WIRE -3520 896 -3792 896
WIRE -2720 928 -2848 928
WIRE -3792 944 -3792 896
WIRE -3520 944 -3712 944
WIRE -3712 992 -3712 944
WIRE -3520 992 -3632 992
WIRE -2960 992 -2960 896
WIRE -2960 992 -3280 992
WIRE -2672 992 -2672 944
WIRE -2672 992 -2960 992
WIRE -2352 992 -2352 896
WIRE -2352 992 -2672 992
WIRE -2192 992 -2192 912
WIRE -2192 992 -2352 992
WIRE -3280 1008 -3280 992
WIRE -3280 1008 -3328 1008
WIRE -3632 1040 -3632 992
WIRE -3520 1040 -3552 1040
WIRE -3552 1072 -3552 1040
WIRE -3280 1072 -3280 1008
WIRE -2672 1088 -2704 1088
WIRE -2848 1104 -2848 928
WIRE -2848 1104 -2992 1104
WIRE -2848 1136 -2848 1104
WIRE -2768 1136 -2768 1088
WIRE -2768 1136 -2848 1136
WIRE -2672 1136 -2672 1088
WIRE -2592 1136 -2672 1136
WIRE -2592 1152 -2592 1136
WIRE -2768 1168 -2768 1136
WIRE -2672 1168 -2672 1136
WIRE -2672 1168 -2688 1168
WIRE -3888 1184 -3888 496
WIRE -3792 1184 -3792 1024
WIRE -3792 1184 -3888 1184
WIRE -3712 1184 -3712 1072
WIRE -3712 1184 -3792 1184
WIRE -3632 1184 -3632 1120
WIRE -3632 1184 -3712 1184
WIRE -3552 1184 -3552 1152
WIRE -3552 1184 -3632 1184
WIRE -3552 1216 -3552 1184
FLAG -3552 1216 0
FLAG -3280 1072 0
FLAG -2672 752 Vfloat
FLAG -2352 752 Vout
FLAG -2992 1104 PWM_LOW
FLAG -2480 688 PWM_HIGH
FLAG -3216 752 Vin
FLAG -2592 1232 0
FLAG -2400 640 0
SYMBOL ind -2880 768 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 12µ
SYMBOL nmos -2720 848 R0
SYMATTR InstName LowSide
SYMATTR Value IRF530
SYMBOL polcap -2368 832 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 40µ
SYMATTR InstName C2
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine Lser=0
SYMBOL voltage -2400 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName PWM_high
SYMATTR Value PULSE(0 15 1.17u 0.1n 0.1n 2.83u 4u)
SYMBOL pannello_40Celle_v1 -3424 816 R0
SYMATTR InstName X1
SYMBOL voltage -3552 1056 R0
WINDOW 3 -59 96 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 1000
SYMATTR InstName v_24
SYMBOL voltage -3632 1024 R0
WINDOW 3 -64 95 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 1000
SYMATTR InstName v_23
SYMBOL voltage -3712 976 R0
WINDOW 3 -64 94 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 1000
SYMATTR InstName v_22
SYMBOL voltage -3792 928 R0
WINDOW 3 -68 96 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 1000
SYMATTR InstName v_21
SYMBOL voltage -3552 672 R180
WINDOW 0 -73 27 Left 2
WINDOW 3 -69 3 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName v_11
SYMATTR Value 1000
SYMBOL voltage -3632 704 R180
WINDOW 0 -62 14 Left 2
WINDOW 3 -58 -13 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName v_12
SYMATTR Value 1000
SYMBOL voltage -3712 736 R180
WINDOW 0 -66 21 Left 2
WINDOW 3 -62 -6 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName v_13
SYMATTR Value 1000
SYMBOL voltage -3792 768 R180
WINDOW 0 -59 15 Left 2
WINDOW 3 -63 -13 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName v_14
SYMATTR Value 1000
SYMBOL res -3152 768 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R_SENSE
SYMATTR Value 0.00001
SYMBOL nmos -2480 704 R90
SYMATTR InstName HighSide
SYMATTR Value IRF530
SYMBOL voltage -2592 1136 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName PWM_Low
SYMATTR Value PULSE(0 15 0 0.1n 0.1n 1.17u 4u)
SYMBOL polcap -2976 832 R0
WINDOW 3 24 56 Left 2
SYMATTR Value 40µ
SYMATTR InstName C1
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine Lser=0
SYMBOL diode -2592 656 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res -2576 560 R0
SYMATTR InstName R2
SYMATTR Value 20
SYMBOL res -2672 1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 20
SYMBOL diode -2768 1104 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 56 101 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res -2208 816 R0
SYMATTR InstName R_LOAD
SYMATTR Value 15.7
TEXT -3360 1208 Left 2 !*.tran 0 7.5ms 3.5ms startup\n.tran 0 7.5ms 0 startup
TEXT -3448 448 Left 2 !.meas tran Pmosfet_highside AVG(V(Vout,Vfloat)*Id(HighSide)+V(PWM_HIGH,Vfloat)*Ig(HighSide))\n.meas tran Pmosfet_lowside AVG(V(Vfloat)*Id(LowSide)+V(PWM_LOW)*Ig(LowSide))\n.meas tran PdissipatedTOT param pmosfet_lowside+pmosfet_highside\n.meas tran Pin AVG(V(Vin)*I(R_SENSE))\n.meas tran Pout AVG(V(Vout)*I(R_LOAD))\n.meas tran Efficiency param Pout/Pin\n.meas tran Ripple PP(V(Vout))
